{"/home/travis/build/npmtest/node-npmtest-express-vue/test.js":"/* istanbul instrument in package npmtest_express_vue */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - pre-init\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        switch (local.modeJs) {\n        // re-init local from window.local\n        case 'browser':\n            local = local.global.utility2.objectSetDefault(\n                local.global.utility2_rollup || local.global.local,\n                local.global.utility2\n            );\n            break;\n        // re-init local from example.js\n        case 'node':\n            local = (local.global.utility2_rollup || require('utility2'))\n                .requireReadme();\n            break;\n        }\n        // export local\n        local.global.local = local;\n    }());\n\n\n\n    // run shared js-env code - function\n    (function () {\n        return;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // run browser js-env code - function\n    case 'browser':\n        break;\n\n\n\n    // run node js-env code - function\n    case 'node':\n        break;\n    }\n\n\n\n    // run shared js-env code - post-init\n    (function () {\n        return;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // run browser js-env code - post-init\n    case 'browser':\n        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test browsers's null-case handling-behavior-behavior\n         */\n            onError(null, options);\n        };\n\n        // run tests\n        local.nop(local.modeTest &&\n            document.querySelector('#testRunButton1') &&\n            document.querySelector('#testRunButton1').click());\n        break;\n\n\n\n    // run node js-env code - post-init\n    /* istanbul ignore next */\n    case 'node':\n        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildApidoc's default handling-behavior-behavior\n         */\n            options = { modulePathList: module.paths };\n            local.buildApidoc(options, onError);\n        };\n\n        local.testCase_buildApp_default = local.testCase_buildApp_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildApp's default handling-behavior-behavior\n         */\n            local.testCase_buildReadme_default(options, local.onErrorThrow);\n            local.testCase_buildLib_default(options, local.onErrorThrow);\n            local.testCase_buildTest_default(options, local.onErrorThrow);\n            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);\n            options = [];\n            local.buildApp(options, onError);\n        };\n\n        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||\n            function (options, onError) {\n            /*\n             * this function will test buildCustomOrg's default handling-behavior\n             */\n                options = {};\n                local.buildCustomOrg(options, onError);\n            };\n\n        local.testCase_buildLib_default = local.testCase_buildLib_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildLib's default handling-behavior\n         */\n            options = {};\n            local.buildLib(options, onError);\n        };\n\n        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildReadme's default handling-behavior-behavior\n         */\n            options = {};\n            local.buildReadme(options, onError);\n        };\n\n        local.testCase_buildTest_default = local.testCase_buildTest_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test buildTest's default handling-behavior\n         */\n            options = {};\n            local.buildTest(options, onError);\n        };\n\n        local.testCase_webpage_default = local.testCase_webpage_default || function (\n            options,\n            onError\n        ) {\n        /*\n         * this function will test webpage's default handling-behavior\n         */\n            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };\n            local.browserTest(options, onError);\n        };\n\n        // run test-server\n        local.testRunServer(local);\n        break;\n    }\n}());\n","/home/travis/build/npmtest/node-npmtest-express-vue/lib.npmtest_express_vue.js":"/* istanbul instrument in package npmtest_express_vue */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - pre-init\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        // init utility2_rollup\n        local = local.global.utility2_rollup || local;\n        // init lib\n        local.local = local.npmtest_express_vue = local;\n        // init exports\n        if (local.modeJs === 'browser') {\n            local.global.utility2_npmtest_express_vue = local;\n        } else {\n            module.exports = local;\n            module.exports.__dirname = __dirname;\n            module.exports.module = module;\n        }\n    }());\n}());\n","/home/travis/build/npmtest/node-npmtest-express-vue/example.js":"/*\nexample.js\n\nquickstart example\n\ninstruction\n    1. save this script as example.js\n    2. run the shell command:\n        $ npm install npmtest-express-vue && PORT=8081 node example.js\n    3. play with the browser-demo on http://127.0.0.1:8081\n*/\n\n\n\n/* istanbul instrument in package npmtest_express_vue */\n/*jslint\n    bitwise: true,\n    browser: true,\n    maxerr: 8,\n    maxlen: 96,\n    node: true,\n    nomen: true,\n    regexp: true,\n    stupid: true\n*/\n(function () {\n    'use strict';\n    var local;\n\n\n\n    // run shared js-env code - pre-init\n    (function () {\n        // init local\n        local = {};\n        // init modeJs\n        local.modeJs = (function () {\n            try {\n                return typeof navigator.userAgent === 'string' &&\n                    typeof document.querySelector('body') === 'object' &&\n                    typeof XMLHttpRequest.prototype.open === 'function' &&\n                    'browser';\n            } catch (errorCaughtBrowser) {\n                return module.exports &&\n                    typeof process.versions.node === 'string' &&\n                    typeof require('http').createServer === 'function' &&\n                    'node';\n            }\n        }());\n        // init global\n        local.global = local.modeJs === 'browser'\n            ? window\n            : global;\n        // init utility2_rollup\n        local = local.global.utility2_rollup || (local.modeJs === 'browser'\n            ? local.global.utility2_npmtest_express_vue\n            : global.utility2_moduleExports);\n        // export local\n        local.global.local = local;\n    }());\n    switch (local.modeJs) {\n\n\n\n    // post-init\n    // run browser js-env code - post-init\n    /* istanbul ignore next */\n    case 'browser':\n        local.testRunBrowser = function (event) {\n            if (!event || (event &&\n                    event.currentTarget &&\n                    event.currentTarget.className &&\n                    event.currentTarget.className.includes &&\n                    event.currentTarget.className.includes('onreset'))) {\n                // reset output\n                Array.from(\n                    document.querySelectorAll('body > .resettable')\n                ).forEach(function (element) {\n                    switch (element.tagName) {\n                    case 'INPUT':\n                    case 'TEXTAREA':\n                        element.value = '';\n                        break;\n                    default:\n                        element.textContent = '';\n                    }\n                });\n            }\n            switch (event && event.currentTarget && event.currentTarget.id) {\n            case 'testRunButton1':\n                // show tests\n                if (document.querySelector('#testReportDiv1').style.display === 'none') {\n                    document.querySelector('#testReportDiv1').style.display = 'block';\n                    document.querySelector('#testRunButton1').textContent =\n                        'hide internal test';\n                    local.modeTest = true;\n                    local.testRunDefault(local);\n                // hide tests\n                } else {\n                    document.querySelector('#testReportDiv1').style.display = 'none';\n                    document.querySelector('#testRunButton1').textContent = 'run internal test';\n                }\n                break;\n            // custom-case\n            default:\n                break;\n            }\n            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&\n                    event.currentTarget &&\n                    event.currentTarget.className &&\n                    event.currentTarget.className.includes &&\n                    event.currentTarget.className.includes('oneval')))) {\n                // try to eval input-code\n                try {\n                    /*jslint evil: true*/\n                    eval(document.querySelector('#inputTextareaEval1').value);\n                } catch (errorCaught) {\n                    console.error(errorCaught);\n                }\n            }\n        };\n        // log stderr and stdout to #outputTextareaStdout1\n        ['error', 'log'].forEach(function (key) {\n            console[key + '_original'] = console[key];\n            console[key] = function () {\n                var element;\n                console[key + '_original'].apply(console, arguments);\n                element = document.querySelector('#outputTextareaStdout1');\n                if (!element) {\n                    return;\n                }\n                // append text to #outputTextareaStdout1\n                element.value += Array.from(arguments).map(function (arg) {\n                    return typeof arg === 'string'\n                        ? arg\n                        : JSON.stringify(arg, null, 4);\n                }).join(' ') + '\\n';\n                // scroll textarea to bottom\n                element.scrollTop = element.scrollHeight;\n            };\n        });\n        // init event-handling\n        ['change', 'click', 'keyup'].forEach(function (event) {\n            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {\n                element.addEventListener(event, local.testRunBrowser);\n            });\n        });\n        // run tests\n        local.testRunBrowser();\n        break;\n\n\n\n    // run node js-env code - post-init\n    /* istanbul ignore next */\n    case 'node':\n        // export local\n        module.exports = local;\n        // require modules\n        local.fs = require('fs');\n        local.http = require('http');\n        local.url = require('url');\n        // init assets\n        local.assetsDict = local.assetsDict || {};\n        /* jslint-ignore-begin */\n        local.assetsDict['/assets.index.template.html'] = '\\\n<!doctype html>\\n\\\n<html lang=\"en\">\\n\\\n<head>\\n\\\n<meta charset=\"UTF-8\">\\n\\\n<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\\n<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\\n<style>\\n\\\n/*csslint\\n\\\n    box-sizing: false,\\n\\\n    universal-selector: false\\n\\\n*/\\n\\\n* {\\n\\\n    box-sizing: border-box;\\n\\\n}\\n\\\nbody {\\n\\\n    background: #dde;\\n\\\n    font-family: Arial, Helvetica, sans-serif;\\n\\\n    margin: 2rem;\\n\\\n}\\n\\\nbody > * {\\n\\\n    margin-bottom: 1rem;\\n\\\n}\\n\\\n.utility2FooterDiv {\\n\\\n    margin-top: 20px;\\n\\\n    text-align: center;\\n\\\n}\\n\\\n</style>\\n\\\n<style>\\n\\\n/*csslint\\n\\\n*/\\n\\\ntextarea {\\n\\\n    font-family: monospace;\\n\\\n    height: 10rem;\\n\\\n    width: 100%;\\n\\\n}\\n\\\ntextarea[readonly] {\\n\\\n    background: #ddd;\\n\\\n}\\n\\\n</style>\\n\\\n</head>\\n\\\n<body>\\n\\\n<!-- utility2-comment\\n\\\n<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\\nutility2-comment -->\\n\\\n<h1>\\n\\\n<!-- utility2-comment\\n\\\n    <a\\n\\\n        {{#if env.npm_package_homepage}}\\n\\\n        href=\"{{env.npm_package_homepage}}\"\\n\\\n        {{/if env.npm_package_homepage}}\\n\\\n        target=\"_blank\"\\n\\\n    >\\n\\\nutility2-comment -->\\n\\\n        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\\n<!-- utility2-comment\\n\\\n    </a>\\n\\\nutility2-comment -->\\n\\\n</h1>\\n\\\n<h3>{{env.npm_package_description}}</h3>\\n\\\n<!-- utility2-comment\\n\\\n<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\\n<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\\n<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\\nutility2-comment -->\\n\\\n\\n\\\n\\n\\\n\\n\\\n<label>stderr and stdout</label>\\n\\\n<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\\n<!-- utility2-comment\\n\\\n{{#if isRollup}}\\n\\\n<script src=\"assets.app.js\"></script>\\n\\\n{{#unless isRollup}}\\n\\\nutility2-comment -->\\n\\\n<script src=\"assets.utility2.rollup.js\"></script>\\n\\\n<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\\n<script src=\"assets.npmtest_express_vue.rollup.js\"></script>\\n\\\n<script src=\"assets.example.js\"></script>\\n\\\n<script src=\"assets.test.js\"></script>\\n\\\n<!-- utility2-comment\\n\\\n{{/if isRollup}}\\n\\\nutility2-comment -->\\n\\\n<div class=\"utility2FooterDiv\">\\n\\\n    [ this app was created with\\n\\\n    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\\n    ]\\n\\\n</div>\\n\\\n</body>\\n\\\n</html>\\n\\\n';\n        /* jslint-ignore-end */\n        if (local.templateRender) {\n            local.assetsDict['/'] = local.templateRender(\n                local.assetsDict['/assets.index.template.html'],\n                {\n                    env: local.objectSetDefault(local.env, {\n                        npm_package_description: 'the greatest app in the world!',\n                        npm_package_name: 'my-app',\n                        npm_package_nameAlias: 'my_app',\n                        npm_package_version: '0.0.1'\n                    })\n                }\n            );\n        } else {\n            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']\n                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {\n                    // jslint-hack\n                    String(match0);\n                    switch (match1) {\n                    case 'npm_package_description':\n                        return 'the greatest app in the world!';\n                    case 'npm_package_name':\n                        return 'my-app';\n                    case 'npm_package_nameAlias':\n                        return 'my_app';\n                    case 'npm_package_version':\n                        return '0.0.1';\n                    }\n                });\n        }\n        // run the cli\n        if (local.global.utility2_rollup || module !== require.main) {\n            break;\n        }\n        local.assetsDict['/assets.example.js'] =\n            local.assetsDict['/assets.example.js'] ||\n            local.fs.readFileSync(__filename, 'utf8');\n        // bug-workaround - long $npm_package_buildCustomOrg\n        /* jslint-ignore-begin */\n        local.assetsDict['/assets.npmtest_express_vue.rollup.js'] =\n            local.assetsDict['/assets.npmtest_express_vue.rollup.js'] ||\n            local.fs.readFileSync(\n                local.npmtest_express_vue.__dirname + '/lib.npmtest_express_vue.js',\n                'utf8'\n            ).replace((/^#!/), '//');\n        /* jslint-ignore-end */\n        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';\n        // if $npm_config_timeout_exit exists,\n        // then exit this process after $npm_config_timeout_exit ms\n        if (Number(process.env.npm_config_timeout_exit)) {\n            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));\n        }\n        // start server\n        if (local.global.utility2_serverHttp1) {\n            break;\n        }\n        process.env.PORT = process.env.PORT || '8081';\n        console.error('server starting on port ' + process.env.PORT);\n        local.http.createServer(function (request, response) {\n            request.urlParsed = local.url.parse(request.url);\n            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {\n                response.end(local.assetsDict[request.urlParsed.pathname]);\n                return;\n            }\n            response.statusCode = 404;\n            response.end();\n        }).listen(process.env.PORT);\n        break;\n    }\n}());\n","/home/travis/build/npmtest/node-npmtest-express-vue/node_modules/express-vue/dist/index.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _models = require('./models');\n\nvar _utils = require('./utils');\n\nvar promiseArray = [];\n\nfunction expressVue(componentPath, options, callback) {\n\n    var defaults = new _models.Defaults(options);\n    promiseArray = (0, _utils.setupComponentArray)(componentPath, defaults);\n\n    Promise.all(promiseArray).then(function (components) {\n        (0, _utils.renderComponents)(components, defaults, callback);\n    }).catch(function (error) {\n        (0, _utils.renderError)(error, callback);\n    });\n}\n\nexports.default = expressVue;\nmodule.exports = exports['default'];","/home/travis/build/npmtest/node-npmtest-express-vue/node_modules/express-vue/dist/models/index.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.DataObject = exports.Defaults = exports.Types = undefined;\n\nvar _types = require('./types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nvar _defaults = require('./defaults');\n\nvar _defaults2 = _interopRequireDefault(_defaults);\n\nvar _dataObject = require('./dataObject');\n\nvar _dataObject2 = _interopRequireDefault(_dataObject);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.Types = _types2.default;\nexports.Defaults = _defaults2.default;\nexports.DataObject = _dataObject2.default;","/home/travis/build/npmtest/node-npmtest-express-vue/node_modules/express-vue/dist/models/types.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Types = function Types() {\n    _classCallCheck(this, Types);\n\n    this.COMPONENT = 'COMPONENT';\n    this.SUBCOMPONENT = 'SUBCOMPONENT';\n    this.LAYOUT = 'LAYOUT';\n};\n\nexports.default = Types;\nmodule.exports = exports['default'];","/home/travis/build/npmtest/node-npmtest-express-vue/node_modules/express-vue/dist/models/defaults.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Defaults = function Defaults() {\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n    _classCallCheck(this, Defaults);\n\n    this.rootPath = options.settings.vue.rootPath === undefined ? options.settings.views + '/' : options.settings.vue.rootPath + '/';\n    this.layoutsDir = options.settings.vue.layoutsDir === undefined ? '' : this.rootPath + options.settings.vue.layoutsDir + '/';\n    this.componentsDir = options.settings.vue.componentsDir === undefined ? '' : options.settings.vue.componentsDir + '/';\n    this.defaultLayout = options.settings.vue.defaultLayout === undefined ? '' : options.settings.vue.layoutsDir === undefined ? this.rootPath + options.settings.vue.defaultLayout : options.settings.vue.defaultLayout;\n    this.options = options.settings.vue.options === undefined ? {} : options.settings.vue.options;\n    this.backupLayout = '<template><!DOCTYPE html><html lang=\"en\"><head><meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\"><script src=\"https://unpkg.com/vue/dist/vue.js\"></script></head><body>{{{app}}}{{{script}}}</body></html></template><script></script><style></style>';\n    this.layoutPath = this.layoutsDir + this.defaultLayout + '.vue';\n    this.options = options;\n};\n\nexports.default = Defaults;\nmodule.exports = exports['default'];","/home/travis/build/npmtest/node-npmtest-express-vue/node_modules/express-vue/dist/models/dataObject.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _types = require('./types');\n\nvar _types2 = _interopRequireDefault(_types);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar types = new _types2.default();\n\nvar DataObject = function DataObject(componentData, defaultData, type) {\n    _classCallCheck(this, DataObject);\n\n    switch (type) {\n        case types.COMPONENT:\n            this.data = Object.assign({}, componentData, defaultData);\n            break;\n        case types.SUBCOMPONENT:\n            this.data = componentData;\n            break;\n    }\n};\n\nexports.default = DataObject;\nmodule.exports = exports['default'];","/home/travis/build/npmtest/node-npmtest-express-vue/node_modules/express-vue/dist/utils/index.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.renderComponents = exports.renderError = exports.setupComponentArray = exports.headUtil = exports.scriptToString = exports.renderVueMixins = exports.renderVueComponents = exports.renderHtmlUtil = exports.layoutUtil = exports.renderUtil = undefined;\n\nvar _render = require('./render');\n\nvar _string = require('./string');\n\nvar _string2 = _interopRequireDefault(_string);\n\nvar _head = require('./head');\n\nvar _head2 = _interopRequireDefault(_head);\n\nvar _componentArray = require('./componentArray');\n\nvar _componentArray2 = _interopRequireDefault(_componentArray);\n\nvar _renderError = require('./renderError');\n\nvar _renderError2 = _interopRequireDefault(_renderError);\n\nvar _renderComponents = require('./renderComponents');\n\nvar _renderComponents2 = _interopRequireDefault(_renderComponents);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.renderUtil = _render.renderUtil;\nexports.layoutUtil = _render.layoutUtil;\nexports.renderHtmlUtil = _render.renderHtmlUtil;\nexports.renderVueComponents = _render.renderVueComponents;\nexports.renderVueMixins = _render.renderVueMixins;\nexports.scriptToString = _string2.default;\nexports.headUtil = _head2.default;\nexports.setupComponentArray = _componentArray2.default;\nexports.renderError = _renderError2.default;\nexports.renderComponents = _renderComponents2.default;","/home/travis/build/npmtest/node-npmtest-express-vue/node_modules/express-vue/dist/utils/render.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.renderVueMixins = exports.renderVueComponents = exports.renderHtmlUtil = exports.layoutUtil = exports.renderUtil = undefined;\n\nvar _models = require('../models');\n\nvar _string = require('./string');\n\nvar _string2 = _interopRequireDefault(_string);\n\nvar _head = require('./head');\n\nvar _head2 = _interopRequireDefault(_head);\n\nvar _paramCase = require('param-case');\n\nvar _paramCase2 = _interopRequireDefault(_paramCase);\n\nvar _vue = require('vue');\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar renderer = require('vue-server-renderer').createRenderer();\n\nvar appRegex = /{{{app}}}/igm;\nvar scriptRegex = /{{{script}}}/igm;\nvar headRegex = /<\\/head>/igm;\nvar types = new _models.Types();\n\nfunction createApp(script, defaults) {\n    if (defaults.options.vue && defaults.options.vue.mixins) {\n        if (defaults.options.vue.mixins.length > 0) {\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = defaults.options.vue.mixins[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var mixin = _step.value;\n\n                    _vue2.default.mixin(mixin);\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n        }\n    }\n\n    return new _vue2.default(script);\n}\n\nfunction layoutUtil(components) {\n    var layout = {};\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n        for (var _iterator2 = components[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var component = _step2.value;\n\n            switch (component.type) {\n                case types.LAYOUT:\n                    layout = component;\n                    break;\n                case types.COMPONENT:\n                    layout.script = component.script;\n                    break;\n                case types.SUBCOMPONENT:\n                    if (layout.script.components) {\n                        layout.script.components[component.name] = component.script;\n                    } else {\n                        layout.script.components = {};\n                        layout.script.components[component.name] = component.script;\n                    }\n                    break;\n            }\n        }\n    } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                _iterator2.return();\n            }\n        } finally {\n            if (_didIteratorError2) {\n                throw _iteratorError2;\n            }\n        }\n    }\n\n    return layout;\n}\n\nfunction renderUtil(layout, renderedScriptString, defaults) {\n    return new Promise(function (resolve, reject) {\n        renderer.renderToString(createApp(layout.script, defaults), function (error, renderedHtml) {\n            if (error) {\n                reject(error);\n            }\n            var html = '';\n            var head = '';\n            html = layout.template.replace(appRegex, '<div id=\"app\">' + renderedHtml + '</div>');\n            html = html.replace(scriptRegex, renderedScriptString);\n            head = (0, _head2.default)(defaults.options.vue);\n            html = html.replace(headRegex, head);\n            resolve(html);\n        });\n    });\n}\n\nfunction renderVueComponents(script, components) {\n    var componentsString = '';\n    for (var component in components) {\n        if (components.hasOwnProperty(component)) {\n            var currentComponent = components[component];\n            if (currentComponent.type === types.SUBCOMPONENT) {\n                delete script.components[currentComponent.name];\n                componentsString = componentsString + ('Vue.component(\\'' + (0, _paramCase2.default)(currentComponent.name) + '\\', ' + (0, _string2.default)(currentComponent.script) + ');\\n');\n            }\n        }\n    }\n    return componentsString;\n}\n\nfunction renderVueMixins(mixins) {\n    var mixinString = '';\n    var _iteratorNormalCompletion3 = true;\n    var _didIteratorError3 = false;\n    var _iteratorError3 = undefined;\n\n    try {\n        for (var _iterator3 = mixins[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n            var mixin = _step3.value;\n\n            mixinString = mixinString + ('Vue.mixin(' + (0, _string2.default)(mixin) + ');\\n');\n        }\n    } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                _iterator3.return();\n            }\n        } finally {\n            if (_didIteratorError3) {\n                throw _iteratorError3;\n            }\n        }\n    }\n\n    return mixinString;\n}\n\nfunction renderedScript(script, components, mixins) {\n\n    var componentsString = renderVueComponents(script, components);\n    if (script.components) {\n        delete script.components;\n    }\n    var mixinString = mixins !== undefined ? renderVueMixins(mixins) : '';\n    var scriptString = (0, _string2.default)(script);\n    var debugToolsString = '';\n\n    if (process.env.VUE_DEV) {\n        debugToolsString = 'Vue.config.devtools = true;';\n    }\n    return '<script>\\n        (function () {\\n            \\'use strict\\'\\n            ' + mixinString + '\\n            ' + componentsString + '\\n            var createApp = function () {\\n                return new Vue(\\n                    ' + scriptString + '\\n                )\\n            }\\n            if (typeof module !== \\'undefined\\' && module.exports) {\\n                module.exports = createApp\\n            } else {\\n                this.app = createApp()\\n            }\\n        }).call(this)\\n        ' + debugToolsString + '\\n        app.$mount(\\'#app\\');\\n    </script>';\n}\n\nfunction renderHtmlUtil(components, defaults) {\n    var mixins = [];\n    if (defaults.options.vue && defaults.options.vue.mixins) {\n        mixins = defaults.options.vue.mixins;\n    }\n    var layout = layoutUtil(components);\n    var renderedScriptString = renderedScript(layout.script, components, mixins);\n    return renderUtil(layout, renderedScriptString, defaults);\n}\n\nexports.renderUtil = renderUtil;\nexports.layoutUtil = layoutUtil;\nexports.renderHtmlUtil = renderHtmlUtil;\nexports.renderVueComponents = renderVueComponents;\nexports.renderVueMixins = renderVueMixins;","/home/travis/build/npmtest/node-npmtest-express-vue/node_modules/express-vue/dist/utils/string.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _xss = require('xss');\n\nvar _xss2 = _interopRequireDefault(_xss);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction scriptToString(script) {\n    var string = '';\n    for (var member in script) {\n        switch (_typeof(script[member])) {\n            case 'function':\n                if (member === 'data') {\n                    var dataObj = (0, _xss2.default)(JSON.stringify(script[member]()));\n                    string += member + ': function(){return ' + dataObj + '},';\n                } else {\n                    string += member + ': ' + String(script[member]) + ',';\n                }\n                break;\n            case 'object':\n                if (member === 'data') {\n                    string += member + ': ' + (0, _xss2.default)(JSON.stringify(script[member])) + ',';\n                } else if (script[member].constructor === Array) {\n                    string += member + ': ' + (0, _xss2.default)(JSON.stringify(script[member])) + ',';\n                } else {\n                    string += member + ': ' + scriptToString(script[member]) + ',';\n                }\n                break;\n            default:\n                string += member + ': ' + JSON.stringify(script[member]) + ',';\n                break;\n        }\n    }\n    return '{' + string + '}';\n}\n\nexports.default = scriptToString;\nmodule.exports = exports['default'];","/home/travis/build/npmtest/node-npmtest-express-vue/node_modules/express-vue/dist/utils/head.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar metaWarning = 'Deprecation Warning: Please update your meta object. Check github project for more information. \\nhttps://github.com/danmademe/express-vue';\n//Checks Vue Object to check if a meta object is inside head\n//Returns Boolean\nfunction checkMetaInsideHead(vueObject) {\n    var isMetaInsideHead = false;\n    if (vueObject.meta && vueObject.meta.head) {\n        isMetaInsideHead = false;\n    } else if (vueObject.head && vueObject.head.meta) {\n        isMetaInsideHead = true;\n    }\n    return isMetaInsideHead;\n}\n\n//Support for legacy v3.7.2 and lower\n// vue: {\n//     meta: {\n//         title: 'Page Title',\n//         head: [\n//             { property:'og:title', content: 'Page Title'},\n//             { name:'twitter:title', content: 'Page Title'},\n//         ]\n//     }\n// }\nfunction legacyMetaTags(metaTags, vueObject) {\n    console.warn(metaWarning);\n    if (vueObject.meta && vueObject.meta.head) {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n            for (var _iterator = vueObject.meta.head[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                var metaItem = _step.value;\n\n                if (metaItem.name) {\n                    metaTags += '<meta name=\"' + metaItem.name + '\" content=\"' + metaItem.content + '\" />';\n                } else if (metaItem.property) {\n                    metaTags += '<meta property=\"' + metaItem.property + '\" content=\"' + metaItem.content + '\" />';\n                } else if (metaItem.script) {\n                    var charset = metaItem.charset || 'utf-8';\n                    metaTags += '<script src=\"' + metaItem.script + '\" charset=\"' + charset + '\"></script>';\n                } else if (metaItem.style) {\n                    var type = metaItem.type || 'text/css';\n                    var rel = metaItem.rel || 'stylesheet';\n                    metaTags += '<link rel=\"' + rel + '\" type=\"' + type + '\" href=\"' + metaItem.style + '\">';\n                }\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                }\n            } finally {\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n    }\n    return metaTags;\n}\n\n//For v3.7.3 and greater\n// vue: {\n//     head: {\n//         title: 'Page Title',\n//         meta: [\n//             { property:'og:title', content: 'Page Title'},\n//             { name:'twitter:title', content: 'Page Title'},\n//         ]\n//     }\n// }\nfunction createMetaTags(metaTags, vueObject) {\n    if (vueObject.head && vueObject.head.meta) {\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n            for (var _iterator2 = vueObject.head.meta[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                var metaItem = _step2.value;\n\n                if (metaItem.name) {\n                    metaTags += '<meta name=\"' + metaItem.name + '\" content=\"' + metaItem.content + '\" />';\n                } else if (metaItem.property) {\n                    metaTags += '<meta property=\"' + metaItem.property + '\" content=\"' + metaItem.content + '\" />';\n                } else if (metaItem.script) {\n                    var charset = metaItem.charset || 'utf-8';\n                    metaTags += '<script src=\"' + metaItem.script + '\" charset=\"' + charset + '\"></script>';\n                } else if (metaItem.style) {\n                    var type = metaItem.type || 'text/css';\n                    var rel = metaItem.rel || 'stylesheet';\n                    metaTags += '<link rel=\"' + rel + '\" type=\"' + type + '\" href=\"' + metaItem.style + '\">';\n                }\n            }\n        } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                    _iterator2.return();\n                }\n            } finally {\n                if (_didIteratorError2) {\n                    throw _iteratorError2;\n                }\n            }\n        }\n    }\n    return metaTags;\n}\n\nfunction headUtil(vueObject) {\n    var metaTags = '';\n    var title = '';\n    var structuredData = '';\n    if (vueObject) {\n        var hasNewHeadBlock = checkMetaInsideHead(vueObject);\n\n        if (vueObject.head && hasNewHeadBlock) {\n            metaTags = createMetaTags(metaTags, vueObject);\n        } else if (vueObject.meta && !hasNewHeadBlock) {\n            metaTags = legacyMetaTags(metaTags, vueObject);\n        }\n\n        if (vueObject.meta && vueObject.meta.title) {\n            console.warn(metaWarning);\n            title = '<title>' + vueObject.meta.title + '</title>';\n        } else if (vueObject.head && vueObject.head.title) {\n            title = '<title>' + vueObject.head.title + '</title>';\n        }\n\n        if (vueObject.head && vueObject.head.structuredData) {\n            structuredData = '<script type=\"application/ld+json\">' + JSON.stringify(vueObject.head.structuredData) + '</script>';\n        }\n    }\n\n    return title + metaTags + structuredData + '</head>';\n}\n\nexports.default = headUtil;\nmodule.exports = exports['default'];","/home/travis/build/npmtest/node-npmtest-express-vue/node_modules/express-vue/dist/utils/componentArray.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _models = require('../models');\n\nvar _parser = require('../parser');\n\nvar types = new _models.Types();\n\nfunction setupComponentArray(componentPath, defaults) {\n    var array = [];\n    array.push((0, _parser.layoutParser)(defaults.layoutPath, defaults, types.LAYOUT));\n    array.push((0, _parser.componentParser)(componentPath, defaults, types.COMPONENT));\n\n    if (defaults.options.vue && defaults.options.vue.components) {\n        for (var component in defaults.options.vue.components) {\n            if (defaults.options.vue.components.hasOwnProperty(component)) {\n                var componentFile = defaults.componentsDir + defaults.options.vue.components[component] + '.vue';\n                array.push((0, _parser.componentParser)(componentFile, defaults, types.SUBCOMPONENT));\n            }\n        }\n    }\n    return array;\n}\n\nexports.default = setupComponentArray;\nmodule.exports = exports['default'];","/home/travis/build/npmtest/node-npmtest-express-vue/node_modules/express-vue/dist/parser/index.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.htmlParser = exports.dataParser = exports.scriptParser = exports.layoutParser = exports.componentParser = undefined;\n\nvar _fs = require('fs');\n\nvar _fs2 = _interopRequireDefault(_fs);\n\nvar _htmlMinifier = require('html-minifier');\n\nvar _htmlMinifier2 = _interopRequireDefault(_htmlMinifier);\n\nvar _models = require('../models');\n\nvar _requireFromString = require('require-from-string');\n\nvar _requireFromString2 = _interopRequireDefault(_requireFromString);\n\nvar _pug = require('pug');\n\nvar _pug2 = _interopRequireDefault(_pug);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar htmlMinifier = _htmlMinifier2.default.minify;\n\nvar htmlRegex = /(<template.*?>)([\\s\\S]*?)(<\\/template>)/gm;\nvar scriptRegex = /(<script.*?>)([\\s\\S]*?)(<\\/script>)/gm;\nvar templateRegex = /\\w*\\.vue/g;\n\nfunction htmlParser(body, minify) {\n    var bodyArray = body.match(htmlRegex) || [];\n    var bodyString = bodyArray[0];\n    var templateLang = bodyString.replace(htmlRegex, '$1');\n    if (bodyString) {\n        bodyString = bodyString.replace(htmlRegex, '$2');\n        if (templateLang.includes('lang=\"pug\"') || templateLang.includes('lang=\"jade\"')) {\n            bodyString = _pug2.default.compile(bodyString, {})({});\n        }\n    }\n\n    if (minify) {\n        bodyString = htmlMinifier(bodyString, {\n            collapseWhitespace: true\n        });\n    }\n\n    return bodyString;\n}\n\nfunction dataParser(script, defaults, type) {\n    var finalScript = {};\n    for (var element in script) {\n        if (script.hasOwnProperty(element)) {\n            if (element === 'data') {\n                (function () {\n                    var data = new _models.DataObject(script.data(), defaults.options.data, type).data;\n                    finalScript[element] = function () {\n                        return data;\n                    };\n                })();\n            } else {\n                finalScript[element] = script[element];\n            }\n        }\n    }\n    return finalScript;\n}\n\nfunction scriptParser(script, defaults, type) {\n    var options = {\n        'presets': ['es2015']\n    };\n    var scriptArray = script.match(scriptRegex) || [];\n    if (scriptArray.length === 0) {\n        var error = 'I had an error processing this script.\\n' + script;\n        console.error(error);\n        return null;\n    }\n    var scriptString = scriptArray[0].replace(scriptRegex, '$2');\n    var babelScript = require('babel-core').transform(scriptString, options);\n    var evalScript = (0, _requireFromString2.default)(babelScript.code);\n    var finalScript = dataParser(evalScript.default, defaults, type);\n    return finalScript;\n}\n\nfunction layoutParser(layoutPath, defaults, type) {\n    return new Promise(function (resolve) {\n        _fs2.default.readFile(layoutPath, 'utf-8', function (err, content) {\n            if (err) {\n                content = defaults.backupLayout;\n                // let error = `Could not find the layout, I was expecting it to live here\n                // ${layoutPath}\n                // But I couldn't find it there ¯\\_(ツ)_/¯\n                // So I'm using the default layout`;\n                // console.warn(error)\n            }\n\n            var body = htmlParser(content, false);\n            content = content.replace(htmlRegex, '');\n            var script = scriptParser(content, defaults, type);\n\n            resolve({\n                type: type,\n                template: body,\n                script: script\n            });\n        });\n    });\n}\n\nfunction componentParser(templatePath, defaults, type) {\n    return new Promise(function (resolve, reject) {\n        _fs2.default.readFile(templatePath, 'utf-8', function (err, content) {\n            if (err) {\n                var error = 'Could Not Find Component, I was expecting it to live here \\n' + templatePath + ' \\nBut I couldn\\'t find it there, \\xAF\\\\_(\\u30C4)_/\\xAF\\n\\n';\n                console.error(error);\n                reject(error);\n            } else {\n                var body = htmlParser(content, true);\n                content = content.replace(htmlRegex, '');\n                var script = scriptParser(content, defaults, type);\n                var templateArray = templatePath.match(templateRegex) || [];\n\n                if (templateArray.length === 0) {\n                    var _error = 'I had an error processing component templates. in this file \\n' + templatePath;\n                    console.error(_error);\n                    reject(_error);\n                }\n\n                var templateName = templateArray[0].replace('\\.vue', '');\n                var componentScript = script || {};\n                componentScript.template = body;\n\n                resolve({\n                    type: type,\n                    name: templateName,\n                    script: componentScript\n                });\n            }\n        });\n    });\n}\n\nexports.componentParser = componentParser;\nexports.layoutParser = layoutParser;\nexports.scriptParser = scriptParser;\nexports.dataParser = dataParser;\nexports.htmlParser = htmlParser;","/home/travis/build/npmtest/node-npmtest-express-vue/node_modules/express-vue/dist/utils/renderError.js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nfunction renderError(error, callback) {\n    console.error(error);\n    callback(new Error(error));\n}\n\nexports.default = renderError;\nmodule.exports = exports[\"default\"];","/home/travis/build/npmtest/node-npmtest-express-vue/node_modules/express-vue/dist/utils/renderComponents.js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _renderError = require('./renderError');\n\nvar _renderError2 = _interopRequireDefault(_renderError);\n\nvar _render = require('./render');\n\nvar _models = require('../models');\n\nvar _models2 = _interopRequireDefault(_models);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction renderComponents(components, defaults, callback) {\n    (0, _render.renderHtmlUtil)(components, defaults).then(function (html) {\n        callback(null, html);\n    }).catch(function (error) {\n        (0, _renderError2.default)(error, callback);\n    });\n}\nexports.default = renderComponents;\nmodule.exports = exports['default'];"}